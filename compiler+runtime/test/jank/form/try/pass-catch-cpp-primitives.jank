;; Test catching various C++ primitive types

(cpp/raw "namespace pass_catch_cpp_primitives { using unsigned_int = unsigned int; }")
(cpp/raw "namespace pass_catch_cpp_primitives { using void_ptr = void*; }")
(cpp/raw "namespace pass_catch_cpp_primitives { using void_ptr_ptr = void**; }")
(cpp/raw "namespace pass_catch_cpp_primitives { unsigned long to_ulong(void* p) { return reinterpret_cast<unsigned long>(p); } }")
(cpp/raw "namespace pass_catch_cpp_primitives { void throw_char() { throw 'c'; } }")
(cpp/raw "namespace pass_catch_cpp_primitives { void throw_double() { throw 1.23; } }")
(cpp/raw "namespace pass_catch_cpp_primitives { void throw_float() { throw 0.5f; } }")
(cpp/raw "namespace pass_catch_cpp_primitives { void throw_int() { throw 123; } }")
(cpp/raw "namespace pass_catch_cpp_primitives { void throw_unsigned_int() { throw 123u; } }")
(cpp/raw "namespace pass_catch_cpp_primitives { void throw_pointer() { throw (void*)0x1234; } }")

;; 1. char
(assert
 (= \c
    (try
      (cpp/pass_catch_cpp_primitives.throw_char)
      (catch cpp/char c c))))

;
;;; 2. double
(assert
 (= 1.23
    (try
      (cpp/pass_catch_cpp_primitives.throw_double)
      (catch cpp/double d d))))

;
;;; 3. float
(assert
 (= 0.5
    (try
      (cpp/pass_catch_cpp_primitives.throw_float)
      (catch cpp/float f f))))

;; 4. int
(assert
 (= 123
    (try
      (cpp/pass_catch_cpp_primitives.throw_int)
      (catch cpp/int i i))))

;; 5. unsigned int
(assert
 (= 123
    (try
      (cpp/pass_catch_cpp_primitives.throw_unsigned_int)
      (catch cpp/pass_catch_cpp_primitives.unsigned_int u u))))

:success
