; throw_runtime_error3 is named with a "3" suffix because there is already throw_runtime_error
; and throw_runtime_error2 defined in other files and different files are not run independently.
(cpp/raw "void throw_runtime_error3() { throw std::runtime_error(\"runtime error\"); }")

(let [caught (atom false)]
  (try
    (cpp/throw_runtime_error3)
    (catch cpp/std.logic_error e
      (println "Wrong: caught logic_error"))
    (catch cpp/std.runtime_error e
      (reset! caught true)))
  (assert @caught "Should have caught std::runtime_error"))

:success
