;; Test catching std::out_of_range
(cpp/raw "namespace jank::cpp::try_::pass_catch_cpp_std_out_of_range {
void throw_out_of_range() { throw std::out_of_range(\"out of range\"); }
}")

(let [caught (atom false)]
  (try
    (cpp/jank.cpp.try_.pass_catch_cpp_std_out_of_range.throw_out_of_range)
    (catch cpp/std.runtime_error e)
    (catch cpp/std.out_of_range e
      (reset! caught (if (= "out of range" (cpp/.what e)) true false))))
  (assert @caught "Should have caught std::out_of_range with correct message"))

:success
